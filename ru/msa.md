# Микросервисная архитектура на основе разделения инициативы и исполнения

1. Раздел описывает подход к реализации [МСА](./glossary/МСА.md) на основе 
принципиального разделения функций инициативы и исполнения 
[бизнес процессов](./glossary/Бизнеспроцесс.md).

# Определения

1. [Инцептор](./glossary/Инцептор.md) – обладает инициативой и подает сигнал на 
исполнение Прецептору.
0. [Прецептор](./glossary/Прецептор.md) – прецептор исполняет логику.

```mermaid
graph LR;
    inceptor[Инцептор]
    preceptor[Прецептор]
    rig((Логика))

    inceptor --> |Запрос| preceptor;
    preceptor -.-> |Результат| inceptor;
    preceptor --- rig
```

3. Взаимодействие между Инцептором и Прецептором представляется как функция 
результата от аргументов: ```r = f( a )```, где Инцептор передает фиксированный 
перечень аргументов Прецептору, который выполняет реализацию действие 
[Rig](./glossary/Rig.md) и возвращает результат состояние.
4. Инцептор на основе состояния определяет момент следующего вызоыва.

# Цели

1. Разделение инициативы и исполения выполнено по следующим причинам:
    1. [Обеспечение отказоустойчивости](#Отказоустойчивость)
    2. [Распределение нагрузки](#Распределение нагрузки)

# Обеспечение отказоустойчивости

1. Объединение функций инициации и исполнения создаёт риск остановки процесса 
из-за сбоев в сложной логике. Разделение позволяет Инцептору надёжно запускать 
задачи, даже если Прецептор выходит из строя.

# Распределение нагрузки 

1. Прецепторы могут обрабатывать ресурсоёмкие задачи, поэтому Инцептор просто 
запускает их в нужном количестве, обеспечивая параллельное выполнение и 
равномерное распределение нагрузки.

```
graph LR;
    client[Клиент]
    inceptor[Инцепторов]
    preceptor[Прецептор]
    rig((Логика))
    state((МНожество<br>Состояний))

    client --> preceptor
    inceptor -->  preceptor
    preceptor -->  rig 
    rig -->  preceptor 
    rig -->  state
```
