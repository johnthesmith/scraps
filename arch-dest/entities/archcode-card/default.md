# Документ (archcode-card)



---

Документ с описанием [entity](/arch-dest/entities/entity/lang=ru&gram-case=gen.md "") для
[EPL](/arch-dest/entities/epl/default.md "")-моделей. Строится из онтологические сущности на основе шаблона в
структурированные карточки документации фомата [md](/arch-dest/entities/md/default.md "").


---

Карточка любой [Сущность](/arch-dest/entities/entity/default.md "") генерируется из шаблона, указанного в самой сущности и 
ее свойств. 


# Синтаксис


1. Шаблон формируется из [md](/arch-dest/entities/md/default.md "") документа, который может включать подмены в
следующем формате:

```
    id/path/...&component=value,...&...
```
    1. где:
        id - опциональный идентификатор сущности
        path - опциональный путь к своству [Сущность](/arch-dest/entities/entity/default.md "")
        component - опицональный компонент вектора с префиксом разделителем `&`
        value - опциональное значение компонента с префиксом разделителем `,`
2. В качестве `id` могут использоваться:
    1. `id` — идентификатор сущности;
    0. `type`` — идентификатор типа сущности (родительский тип);
    0. `name` — имя сущности (для текущего вектора);
    0. `description` — описание сущности;
    0. `content` — основное содержание;
    0. инфые произвольные имена свойств с разделителем `/`.


# Специфичные векторы

Для свойств с другими векторами используйте `&`:
- ``name&lang=en`` — имя на английском
- ``description&lang=ru&gram-number=singular`` — описание в единственном числе на русском

### Ссылки на другие сущности
- ``entity&lang=ru#name`` — свойство `name` сущности `entity` с вектором
- ``entity/path&vector`` — вложенное свойство

### Экранирование
- `~p:...`, `~f:...`, `~`...` — буквальный текст (без обработки)



## Правила

1. **Наследование шаблонов**
   Свойство `card` наследуется от типа `entity`.  
   Переопределите `card` для конкретного типа, чтобы изменить шаблон.

2. **Отсутствующие свойства** 
   Если свойство не найдено, используется значение `empty-property` (публичное свойство `entity`).  
   По умолчанию: `` `property` ``.

3. **Векторные варианты** 
   Карточка генерируется для конкретного вектора (язык, число, падеж). 
   Используйте подстановки с нужным вектором, чтобы получить корректные значения.

4. **Рекурсивная обработка**
   Подстановки обрабатываются рекурсивно: значения могут содержать `p:`, `f:`, `~`.



## Пример шаблона card.md


```markdown
# `name&lang=ru&gram-number=singular` (archcode-card)

Тип: `type`

---

`description&lang=ru`

---

`content&lang=ru`
```




# Грамматические компоненты

Доступные векторы:

    lang (ru, en, ...)

    gram-number (singular, plural, dual)

    gram-case (nominative, genitive, dative, ...)

Используйте gram-number=singular в заголовках карточек, даже если карточка строится для множественного числа.
Отладка

Если в выводе остаются подстановки вида `property`, проверьте:

    Существует ли свойство у сущности

    Правильно ли указан вектор

    Задано ли свойство empty-property для данного типа

text


Вставь этот раздел в документацию к EPL/Archcode.



# Смотри так же





# Потомки